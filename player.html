<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mega Bingo - Player</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            display: flex;
            flex-direction: column;
            align-items: center;
            margin: 20px;
            background-color: #f0f0f0;
        }
        h1 {
            margin-bottom: 10px;
        }
        .bingo-card {
            display: grid;
            grid-template-columns: repeat(5, 1fr);
            gap: 5px;
            max-width: 600px;
            margin: 20px auto;
        }
        .bingo-square {
            background: white;
            border: 2px solid #333;
            padding: 15px;
            text-align: center;
            cursor: pointer;
            min-height: 100px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
        }
        .bingo-square:hover {
            background-color: #e8e8e8;
        }
        .bingo-square.marked {
            background-color: #4CAF50;
            color: white;
        }
        .bingo-square.free {
            background-color: #FFD700;
            font-weight: bold;
            cursor: default;
        }
        .answer {
            font-size: 18px;
            font-weight: bold;
            margin-bottom: 5px;
        }
        .action {
            font-size: 12px;
            color: #666;
            font-style: italic;
        }
        .marked .action {
            color: #fff;
        }
        .instructions {
            max-width: 600px;
            background: white;
            padding: 15px;
            border-radius: 5px;
            margin-bottom: 20px;
        }
    </style>
</head>
<body>
    <h1>Mega Bingo - Player Card</h1>
    
    <div class="instructions">
        <strong>How to play:</strong> When the host calls a question, find the answer on your card. Complete the action shown, then click the square to mark it. Get 5 in a row to win!
    </div>

    <div class="bingo-card" id="bingoCard"></div>

    <script>
        const actions = [
            "5 jumping jacks",
            "Touch the wall and return",
            "Spin around 3 times",
            "Do 3 squats",
            "High-five 2 people",
            "Touch your toes 5 times",
            "Hop on one foot 5 times",
            "Do arm circles for 5 seconds",
            "March in place for 5 seconds",
            "Strike a pose for 3 seconds"
        ];

        // Parse CSV data
        const csvData = `category,question,answer
days,"Â¿QuÃ© dÃ­a es despuÃ©s de lunes?",martes
days,"Â¿QuÃ© dÃ­a es antes de domingo?",sÃ¡bado
days,"Â¿QuÃ© dÃ­a es despuÃ©s de miÃ©rcoles?",jueves
days,"Â¿QuÃ© dÃ­a es el primer dÃ­a de la semana?",lunes
days,"Â¿QuÃ© dÃ­a es antes de martes?",lunes
days,"Â¿QuÃ© dÃ­a es despuÃ©s de viernes?",sÃ¡bado
days,"Â¿QuÃ© dÃ­a es antes de jueves?",miÃ©rcoles
days,"Â¿QuÃ© dÃ­a es el Ãºltimo dÃ­a de la semana?",domingo
days,"Â¿QuÃ© dÃ­a es despuÃ©s de sÃ¡bado?",domingo
days,"Â¿QuÃ© dÃ­a es despuÃ©s de jueves?",viernes
days,"Â¿QuÃ© dÃ­a es antes de sÃ¡bado?",viernes
days,"Â¿QuÃ© dÃ­a es despuÃ©s de domingo?",lunes
days,"Â¿QuÃ© dÃ­a es antes de viernes?",jueves
days,"Â¿QuÃ© dÃ­a es en el medio de la semana?",miÃ©rcoles
days,"Â¿QuÃ© dÃ­a es despuÃ©s de martes?",miÃ©rcoles
months,"Â¿CuÃ¡l es el primer mes del aÃ±o?",enero
months,"Â¿En quÃ© mes celebramos la Navidad?",diciembre
months,"Â¿CuÃ¡l es el segundo mes?",febrero
months,"Â¿En quÃ© mes es el verano? (julio o enero)",julio
months,"Â¿CuÃ¡l es el Ãºltimo mes del aÃ±o?",diciembre
months,"Â¿En quÃ© mes es Halloween?",octubre
months,"Â¿CuÃ¡l es el tercer mes?",marzo
months,"Â¿En quÃ© mes empieza la primavera?",marzo
months,"Â¿CuÃ¡l es el mes antes de julio?",junio
months,"Â¿En quÃ© mes es el DÃ­a de San ValentÃ­n?",febrero
months,"Â¿CuÃ¡l es el mes despuÃ©s de agosto?",septiembre
months,"Â¿CuÃ¡l es el sexto mes?",junio
months,"Â¿En quÃ© mes termina el aÃ±o escolar?",junio
months,"Â¿CuÃ¡l es el mes antes de diciembre?",noviembre
months,"Â¿CuÃ¡l es el quinto mes?",mayo
months,"Â¿En quÃ© mes empieza el aÃ±o escolar?",septiembre
months,"Â¿CuÃ¡l es el mes despuÃ©s de marzo?",abril
months,"Â¿En quÃ© mes es el DÃ­a de AcciÃ³n de Gracias?",noviembre
months,"Â¿CuÃ¡l es el mes antes de mayo?",abril
months,"Â¿CuÃ¡l es el octavo mes?",agosto
time,"Â¿QuÃ© hora es? [1:00]","la una"
time,"Â¿QuÃ© hora es? [2:00]","las dos"
time,"Â¿QuÃ© hora es? [3:00]","las tres"
time,"Â¿QuÃ© hora es? [4:00]","las cuatro"
time,"Â¿QuÃ© hora es? [5:00]","las cinco"
time,"Â¿QuÃ© hora es? [6:00]","las seis"
time,"Â¿QuÃ© hora es? [7:00]","las siete"
time,"Â¿QuÃ© hora es? [8:00]","las ocho"
time,"Â¿QuÃ© hora es? [9:00]","las nueve"
time,"Â¿QuÃ© hora es? [10:00]","las diez"
time,"Â¿QuÃ© hora es? [11:00]","las once"
time,"Â¿QuÃ© hora es? [12:00]","las doce"
time,"Â¿QuÃ© hora es? [1:30]","la una y media"
time,"Â¿QuÃ© hora es? [2:30]","las dos y media"
time,"Â¿QuÃ© hora es? [3:30]","las tres y media"
time,"Â¿QuÃ© hora es? [4:30]","las cuatro y media"
time,"Â¿QuÃ© hora es? [5:30]","las cinco y media"
time,"Â¿QuÃ© hora es? [6:15]","las seis y cuarto"
time,"Â¿QuÃ© hora es? [7:15]","las siete y cuarto"
time,"Â¿QuÃ© hora es? [8:45]","las nueve menos cuarto"`;

        // Extract unique answers
        const lines = csvData.split('\n').slice(1); // Skip header
        const answers = [...new Set(lines.map(line => {
            const match = line.match(/,([^,]+)$/);
            return match ? match[1].trim() : '';
        }).filter(a => a))];

        // Shuffle and pick 24 answers (25 - 1 for FREE space)
        function shuffle(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
            return array;
        }

        const selectedAnswers = shuffle([...answers]).slice(0, 24);

        // Generate bingo card
        const bingoCard = document.getElementById('bingoCard');
        
        for (let i = 0; i < 25; i++) {
            const square = document.createElement('div');
            square.className = 'bingo-square';
            
            if (i === 12) { // Middle square
                square.classList.add('free', 'marked');
                square.innerHTML = '<div class="answer">LIBRE</div>';
            } else {
                const answerIndex = i < 12 ? i : i - 1;
                const answer = selectedAnswers[answerIndex];
                const action = actions[Math.floor(Math.random() * actions.length)];
                
                square.innerHTML = `
                    <div class="answer">${answer}</div>
                    <div class="action">${action}</div>
                `;
                
                square.addEventListener('click', function() {
                    if (!this.classList.contains('marked')) {
                        if (confirm(`Complete action: ${action}\n\nDid you complete it?`)) {
                            this.classList.add('marked');
                            checkWin();
                        }
                    }
                });
            }
            
            bingoCard.appendChild(square);
        }

        function checkWin() {
            const squares = document.querySelectorAll('.bingo-square');
            const marked = Array.from(squares).map(s => s.classList.contains('marked'));
            
            // Check rows
            for (let i = 0; i < 5; i++) {
                if (marked.slice(i*5, i*5+5).every(m => m)) {
                    declareWin();
                    return;
                }
            }
            
            // Check columns
            for (let i = 0; i < 5; i++) {
                if ([0,1,2,3,4].every(j => marked[i + j*5])) {
                    declareWin();
                    return;
                }
            }
            
            // Check diagonals
            if ([0,6,12,18,24].every(i => marked[i])) {
                declareWin();
                return;
            }
            if ([4,8,12,16,20].every(i => marked[i])) {
                declareWin();
                return;
            }
        }

        function declareWin() {
            alert('Â¡BINGO! You won! ðŸŽ‰');
        }
    </script>
</body>
</html>
